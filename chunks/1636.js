"use strict";(self.webpackChunkberlin_equal_street_names=self.webpackChunkberlin_equal_street_names||[]).push([[1636],{31636:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var i=s(36663),r=s(61681),n=s(76868),a=s(81977),l=(s(7753),s(39994),s(7283),s(40266)),o=s(19654),d=s(95484),p=s(53986),u=s(70984),h=s(26216);let c=class extends((0,o.A)(h.Z)){constructor(){super(...arguments),this.type="graphics-3d",this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null}initialize(){this._set("processor",new d.D({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.setup()),this.handles.add(this.layer.on("graphic-update",(e=>this.processor.graphicsCore.graphicUpdateHandler(e)))),this.addResolvingPromise((0,p.E)(this).then((e=>this.fullExtentInLocalViewSpatialReference=e))),this.layer.internal?this.notifyChange("updating"):this.handles.add((0,n.gx)((()=>this.view?.basemapTerrain?.ready),(()=>()=>this.notifyChange("updating")),{once:!0}))}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set("processor",(0,r.SC)(this.processor))}get loadedGraphics(){return this.layer.graphics}get legendEnabled(){return this.canResume()&&!this.processor?.frustumVisibilitySuspended}getSuspendInfo(){const e=super.getSuspendInfo();return e.outsideScaleRange=this.processor?.scaleVisibilitySuspended??!1,e.outsideOfView=this.processor?.frustumVisibilitySuspended??!1,e}async fetchPopupFeatures(e,t){return(0,r.pC)(t)?t.clientGraphics:null}getHit(e){return this.processor.getHit(e)}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor?.computeAttachmentOrigin(e,t)}getSymbolLayerSize(e,t){return this.processor.getSymbolLayerSize(e,t)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(e){return this.processor.maskOccludee(e)}highlight(e){return this.processor.highlight(e)}get updatePolicy(){return this.processor?.graphicsCore.effectiveUpdatePolicy||u.jq.SYNC}canResume(){return super.canResume()&&!this.processor?.scaleVisibilitySuspended}isUpdating(){return!(!this.processor?.updating&&(this.layer.internal||this.view?.basemapTerrain?.ready))}get performanceInfo(){return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:-1,totalNumberOfFeatures:-1,nodes:0,core:null,updating:this.updating,elevationUpdating:this.processor?.elevationAlignment.updating??!1,visibilityFrustum:!this.processor?.frustumVisibilitySuspended??!1}}};(0,i._)([(0,a.Cb)()],c.prototype,"loadedGraphics",null),(0,i._)([(0,a.Cb)({readOnly:!0})],c.prototype,"legendEnabled",null),(0,i._)([(0,a.Cb)()],c.prototype,"layer",void 0),(0,i._)([(0,a.Cb)({readOnly:!0})],c.prototype,"processor",void 0),(0,i._)([(0,a.Cb)({type:Boolean})],c.prototype,"slicePlaneEnabled",void 0),c=(0,i._)([(0,l.j)("esri.views.3d.layers.GraphicsLayerView3D")],c);const y=c},19654:(e,t,s)=>{s.d(t,{A:()=>p});var i=s(36663),r=s(23148),n=s(78668),a=s(76868),l=s(81977),o=(s(7753),s(39994),s(7283),s(40266)),d=s(64862);const p=e=>{let t=class extends e{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),(0,d.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,t=e.signal;this.handles.add((0,r.kB)((()=>e.abort()))),await(0,a.N1)((()=>this.view.defaultsFromMap?.heightModelInfoReady),t),(0,n.k_)(t);const s=(0,d.Wt)(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(s)throw s}canResume(){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return t&&t.minScale&&t.maxScale&&t.minScale<t.maxScale&&(e.outsideScaleRange=!0),e}};return(0,i._)([(0,l.Cb)()],t.prototype,"view",void 0),(0,i._)([(0,l.Cb)()],t.prototype,"slicePlaneEnabled",void 0),t=(0,i._)([(0,o.j)("esri.views.3d.layers.LayerView3D")],t),t}},53986:(e,t,s)=>{s.d(t,{E:()=>a});var i=s(61681),r=s(39536),n=s(8060);function a(e){const t=e.view.spatialReference,s=e.layer.fullExtent,a=(0,i.pC)(s)&&s.spatialReference;if((0,i.Wi)(s)||!a)return Promise.resolve(null);if(a.equals(t))return Promise.resolve(s.clone());const l=(0,r.iV)(s,t);return(0,i.pC)(l)?Promise.resolve(l):e.view.state.isLocal?(0,n.projectGeometry)(s,t,e.layer.portalItem).then((t=>!e.destroyed&&t?t:void 0)).catch((()=>null)):Promise.resolve(null)}},26216:(e,t,s)=>{s.d(t,{Z:()=>y});var i=s(36663),r=s(53443),n=s(31355),a=s(53280),l=s(86618),o=s(13802),d=s(61681),p=s(64189),u=s(81977),h=(s(7753),s(39994),s(7283),s(40266));let c=class extends((0,a.p)((0,l.IG)((0,p.v)(n.Z.EventedMixin(r.Z))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if("layerview:create-error"!==e.name){const t=this.layer&&this.layer.id||"no id",s=this.layer&&this.layer.title||"no title";o.Z.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${s}', id: '${t}')`,e)}}))}get fullOpacity(){return(0,d.Pt)(this.get("layer.opacity"),1)*(0,d.Pt)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){void 0!==e?this._override("visible",e):this._clearOverride("visible")}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};(0,i._)([(0,u.Cb)()],c.prototype,"fullOpacity",null),(0,i._)([(0,u.Cb)()],c.prototype,"layer",void 0),(0,i._)([(0,u.Cb)()],c.prototype,"parent",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],c.prototype,"suspended",null),(0,i._)([(0,u.Cb)({readOnly:!0})],c.prototype,"suspendInfo",null),(0,i._)([(0,u.Cb)({readOnly:!0})],c.prototype,"legendEnabled",null),(0,i._)([(0,u.Cb)({type:Boolean,readOnly:!0})],c.prototype,"updating",null),(0,i._)([(0,u.Cb)({readOnly:!0})],c.prototype,"updatingProgress",null),(0,i._)([(0,u.Cb)()],c.prototype,"visible",null),(0,i._)([(0,u.Cb)()],c.prototype,"view",void 0),c=(0,i._)([(0,h.j)("esri.views.layers.LayerView")],c);const y=c}}]);